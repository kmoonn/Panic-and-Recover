# ğŸ” å¾®ä¿¡å°ç¨‹åºäº‘å¼€å‘ä¹‹äº‘å‡½æ•°å°è®°

## ğŸ“… æ—¥æœŸä¸æ ‡ç­¾

- è®°å½•æ—¥æœŸï¼š2024-04-12
- æ ‡ç­¾ï¼š`#å¾®ä¿¡å°ç¨‹åº` `#äº‘å¼€å‘` `#äº‘å‡½æ•°`

## 1. ğŸ§¢ å‰è¨€

- ä½¿ç”¨åœºæ™¯

å½“æˆ‘ä»¬æƒ³å¼€å‘è‡ªå·±çš„å°ç¨‹åºï¼Œæ²¡æœ‰äº‘æœåŠ¡å™¨ï¼Œä¹Ÿä¸æƒ³ä»é›¶å¼€å§‹æ„å»ºåç«¯ä»£ç çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ä½¿ç”¨[å¾®ä¿¡äº‘å¼€å‘](https://developers.weixin.qq.com/miniprogram/dev/wxcloudservice/wxcloud/basis/getting-started.html)ï¼Œåªéœ€è¦æ’°å†™äº‘å‡½æ•°ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘å³å¯ã€‚å¾®ä¿¡äº‘å¼€å‘å¯ä»¥è‡ªè¡Œå¸®æˆ‘ä»¬éƒ¨ç½²å¥½åç«¯ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒç”¨äº‘å‡½æ•°æ¥å£ã€‚

## 2. ğŸ›  æ–¹æ³•

### äº‘å‡½æ•°

äº‘å‡½æ•°æ˜¯ä¸€æ®µè¿è¡Œåœ¨äº‘ç«¯çš„ä»£ç ï¼Œæ— éœ€ç®¡ç†æœåŠ¡å™¨ï¼Œåœ¨å¼€å‘å·¥å…·å†…ç¼–å†™ã€ä¸€é”®ä¸Šä¼ éƒ¨ç½²å³å¯è¿è¡Œåç«¯ä»£ç ã€‚

å°ç¨‹åºå†…æä¾›äº†ä¸“é—¨ç”¨äºäº‘å‡½æ•°è°ƒç”¨çš„ APIï¼Œæˆ‘ä»¬å¯ä»¥åœ¨äº‘å‡½æ•°å†…ä½¿ç”¨ `wx-server-sdk` æä¾›çš„ `getWXContext` æ–¹æ³•è·å–æ¯æ¬¡è°ƒç”¨çš„ä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”æ— éœ€ç»´æŠ¤å¤æ‚çš„é‰´æƒæœºåˆ¶ã€‚

### å®šä¹‰äº‘å‡½æ•°
```JavaScript
// å¯¼å…¥é…ç½®æ–‡ä»¶
const cloud = require('wx-server-sdk')

cloud.init()

exports.main = async (event, context) => {
    // ä»eventè·å–ç”¨æˆ·ä¼ å…¥çš„å‚æ•°

    return {
        // è¿”å›å“åº”æ•°æ®
    }
}
```

### è°ƒç”¨äº‘å‡½æ•°
```JavaScript
wx.cloud.callFunction({
    name: '', // äº‘å‡½æ•°å
    data: {
        // ä¼ ç»™äº‘å‡½æ•°çš„å‚æ•° â€”â€”> event
    },

    success: res => {
        console.log('æˆåŠŸç»“æœ:', res)
    },
    fail: err => {
        console.error('å¤±è´¥åŸå› :', err)
    },
    complete: res => {
        console.log('è¯·æ±‚å®Œæˆ:', res)
    }
})
```
## 3. ğŸ’¡ æ€»ç»“

äº‘å‡½æ•°çš„è¿è¡Œç¯å¢ƒæ˜¯ Node.jsï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ npm å®‰è£…ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚æ¯”å¦‚å¦‚æœéœ€è¦åœ¨äº‘å‡½æ•°ä¸­æ“ä½œæˆ‘ä»¬æœåŠ¡å™¨ä¸Šçš„MySQLæ•°æ®åº“ï¼Œå¯ä»¥ä½¿ç”¨ [mysql2](https://www.npmjs.com/package/mysql2)ã€‚
```JavaScript
// å¯¼å…¥æ¨¡å—
import mysql from 'mysql2/promise';

// åˆ›å»ºä¸€ä¸ªæ•°æ®åº“è¿æ¥
const connection = await mysql.createConnection({
  host: 'localhost',
  user: 'root',
  database: 'test',
});
```