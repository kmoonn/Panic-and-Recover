# Objects 类

## 核心方法

- equals(Object obj)
  - 判断两个对象是否为同一个实际对象 / 逻辑相等。
  - 默认实现：等价于 `==`，判断内存地址是否相同
  - 重写场景：判断对象的业务逻辑相等
- hashCode()
  - 返回对象的哈希码值（int 类型）
  - 默认实现：根据对象的**内存地址**计算出唯一的哈希码
  - 重写规则：equals返回true的两个对象，hashCode 必须相等；equals返回false的两个对象，hashCode 尽量不同（减少哈希冲突）。
- toString()
  - 返回对象的字符串表示形式，方便打印、日志输出和调试。
  - 默认实现：类名@十六进制哈希码
  - 重写场景：必重写，一般返回对象的核心属性拼接
- getClass()
  - 返回当前对象的运行时类对象（Class 对象），是 Java反射机制的入口.
  - **不可重写**
- clone()
  - 创建并返回当前对象的副本（**浅拷贝**）
  - 使用前提：被克隆的类必须实现 Cloneable 标记接口（无任何方法，仅表示允许克隆），否则抛出异常。
  - 默认实现：浅拷贝（基本数据类型复制值，引用数据类型复制地址，原对象和副本共享引用对象）。
  - **深拷贝**：需手动重写 clone 方法，对引用类型的属性也进行克隆。
- finalize()
  - 对象被垃圾回收器回收前的最后回调，用于释放非 Java 资源（比如文件句柄、网络连接）。
  - ~~JDK 18 中被移除~~。

## 线程相关

Java 线程等待 / 唤醒机制的基础，基于对象的监视器锁（monitor）实现。

均为 final 方法，不可重写，且必须在 synchronized 同步代码块 / 方法中调用（否则抛出IllegalMonitorStateException）。

- wait()
  - 让当前持有该对象锁的线程释放锁并进入等待状态，直到被其他线程唤醒（notify/notifyAll）或被中断（interrupt）。
  - wait(long timeout)
    - 带超时时间的 wait，单位为毫秒（ms）。
- notify()
  - 唤醒一个正在等待该对象锁的线程（随机唤醒，无法指定），被唤醒的线程需等待当前线程释放锁后，才能继续执行。
- notifyAll()
  - 唤醒所有正在等待该对象锁的线程，这些线程会进入锁竞争，最终只有一个线程能获取锁执行。