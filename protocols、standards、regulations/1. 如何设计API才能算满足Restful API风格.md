# 🔍 如何设计API才能算满足Restful API风格

## 📅 日期与标签

- 记录日期：2025-04-12
- 标签：`#API` `#Restful API`

## 前言

客户端和服务端直接需要接口进行通信，但接口的规范性是一个问题。
一套结构清晰、符合标准、易于理解、扩展方便让大部分人都能够理解并接受的接口风格显得越来越重要，RESTful 风格的接口（RESTful API）应运而生，逐渐流行起来。

RESTful API 是目前最流行的 API 设计规范，用于 Web 数据接口的设计。

## 介绍

### REST

Representational State Transfer，直译过来叫做表现层状态转移，是一种软件架构风格、设计风格。RESTful是一种风格而不是标准，具有以下几个特征：
- 以资源为基础

资源表示图片、音乐、XML、HTML或者JSON格式等网络上的一个实体，通常从数据库中查询获得。
- 统一接口

对资源的操作包括获取、创建、修改和删除，正好对应HTTP协议中的get、post、put、delete方法。

- URI指向资源

RESTful是面向资源的，每种资源可能由一个或多个URI对应，但一个URI只能指向一种资源。

- 无状态

服务器不能保存客户端的信息，每一次从客户端发送的请求都必须包含所有必须的状态信息，会话信息由客户端保存，服务器根据这些状态信息来处理请求。

### RESTful API 设计规范

- Path 组成
```
/{version}/{resource}/{resource_id}
/{version}/{resources}/{resource_id}/{subresources}/{subresource_id}
```
- 具体设计规范
```
1. 不使用大写字母
2. 连字符使用中杠'-',不要使用'_'
3. 正确使用'/'表示层级关系
4. 结尾不要包含'/'
5. URL不出现动词，用请求方式表示动作
6. 资源表示用复数而不是单数
7. 不要使用文件扩展名
```
## 总结

- 客户端发送请求时

```
URL 不要包含动词，要用 HTTP 方法区分行为
资源尽量使用复数形式
如果资源涉及多级目录，尽可能减少嵌套，使用查询字符
```
- 服务器返回响应时
```
必须返回 JSON 对象，满足结构化数据格式
发生错误时不要返回 200 状态码
```